<get uri="/v2/gate_rr_adapter/online/objects">
				<description>GET objects</description>
				<param name="source" description="source" type="query" required="false"/>
				<param name="number" description="number" type="query" required="false"/>
				<param name="region" description="region" type="query" required="false"/>
				<param name="district" description="district" type="query" required="false"/>
				<param name="settlement" description="settlement" type="query" required="false"/>
				<param name="street" description="street" type="query" required="false"/>
				<param name="house" description="house" type="query" required="false"/>
				<param name="building" description="building" type="query" required="false"/>
				<param name="structure" description="structure" type="query" required="false"/>
				<param name="apartment" description="apartment" type="query" required="false"/>
				<param name="numberType" description="numberType" type="query" required="false"/>
				<param name="cacheUse" description="Cached data" type="query" required="false" defaultValue="false"/>
				<param name="Authorization" type="header" required="true" description="Токен авторизации (Bearer)"/>
				<route>
					<to uri="log:ru.seventech.esb.technoprom.online.objects.v2.begin?showAll=false"/>
					<setProperty name="rosrgatewayToken">
						<method ref="authService" method="getToken"/>
					</setProperty>
					<doTry>
						<setProperty name="objectsUrl">
							<simple>{{env:url_objects_v2}}</simple>
						</setProperty>
						<setProperty name="objectsWithParametersUrl">
							<groovy>
								def objectsUrlFormatted = sprintf(exchange.properties.objectsUrl, [
								exchange.in.headers.source ? exchange.in.headers.source : '0',
								exchange.in.headers.number ? exchange.in.headers.number : '',
								exchange.in.headers.region ? exchange.in.headers.region : '',
								exchange.in.headers.district ? exchange.in.headers.district : '',
								exchange.in.headers.settlement ? exchange.in.headers.settlement : '',
								exchange.in.headers.street ? exchange.in.headers.street : '',
								exchange.in.headers.house ? exchange.in.headers.house : '',
								exchange.in.headers.building ? exchange.in.headers.building : '',
								exchange.in.headers.structure ? exchange.in.headers.structure : '',
								exchange.in.headers.apartment ? exchange.in.headers.apartment : '',
								exchange.in.headers.numberType ? exchange.in.headers.numberType : '',
								exchange.in.headers.cacheUse ? exchange.in.headers.cacheUse : 'false'
								])
								return objectsUrlFormatted
							</groovy>
						</setProperty>
						<removeHeaders pattern="*"/>
						<setHeader name="Authorization">
							<simple>${exchangeProperty.rosrgatewayToken}</simple>
						</setHeader>
						<setHeader name="CamelHttpMethod">
							<constant>GET</constant>
						</setHeader>
						<toD uri="https://${exchangeProperty.objectsWithParametersUrl}&amp;httpClientConfigurer=trustAllHttpClientConfigurer"/>
						<to uri="log:ru.seventech.esb.technoprom.online.objects.v2.end?showAll=false"/>
						<doCatch>
							<exception>org.apache.camel.http.common.HttpOperationFailedException</exception>
							<to uri="log:ru.seventech.esb.technoprom.online.objects.v2.error?showAll=true"/>
							<setHeader name="Exchange.HTTP_RESPONSE_CODE">
								<constant>400</constant>
							</setHeader>
							<setBody>
								<simple>${exception.getResponseBody()}</simple>
							</setBody>
						</doCatch>
					</doTry>
				</route>
			</get>

			<get uri="/v2/gate_rr_adapter/online/regions">
				<description>GET regions</description>
				<param name="source" description="source" type="query" required="false"/>
				<param name="cacheUse" description="Cached data" type="query" required="false" defaultValue="false"/>
				<param name="Authorization" type="header" required="true" description="Токен авторизации (Bearer)"/>
				<route>
					<to uri="log:ru.seventech.esb.technoprom.online.regions.v2.begin?showAll=false"/>
					<setProperty name="rosrgatewayToken">
						<method ref="authService" method="getToken"/>
					</setProperty>
					<doTry>
						<setProperty name="regionsUrl">
							<simple>{{env:url_regions_v2}}</simple>
						</setProperty>
						<setProperty name="regionsWithParametersUrl">
							<groovy>
								def regionsUrlFormatted = sprintf(exchange.properties.regionsUrl, [
								exchange.in.headers.source ? exchange.in.headers.source : '0',
								exchange.in.headers.cacheUse ? exchange.in.headers.cacheUse : 'false'
								])
								return regionsUrlFormatted
							</groovy>
						</setProperty>
						<removeHeaders pattern="*"/>
						<setHeader name="Authorization">
							<simple>${exchangeProperty.rosrgatewayToken}</simple>
						</setHeader>
						<setHeader name="CamelHttpMethod">
							<constant>GET</constant>
						</setHeader>
						<toD uri="https://${exchangeProperty.regionsWithParametersUrl}&amp;httpClientConfigurer=trustAllHttpClientConfigurer"/>
						<to uri="log:ru.seventech.esb.technoprom.online.regions.v2.end?showAll=false"/>
						<doCatch>
							<exception>org.apache.camel.http.common.HttpOperationFailedException</exception>
							<to uri="log:ru.seventech.esb.technoprom.online.regions.v2.error?showAll=true"/>
							<setHeader name="Exchange.HTTP_RESPONSE_CODE">
								<constant>400</constant>
							</setHeader>
							<setBody>
								<simple>${exception.getResponseBody()}</simple>
							</setBody>
						</doCatch>
					</doTry>
				</route>
			</get>

			<get uri="/v2/gate_rr_adapter/online/districts">
				<description>GET districts</description>
				<param name="source" description="source" type="query" required="false"/>
				<param name="region" description="region" type="query" required="false"/>
				<param name="cacheUse" description="Cached data" type="query" required="false" defaultValue="false"/>
				<param name="Authorization" type="header" required="true" description="Токен авторизации (Bearer)"/>
				<route>
					<to uri="log:ru.seventech.esb.technoprom.online.districts.v2.begin?showAll=false"/>
					<setProperty name="rosrgatewayToken">
						<method ref="authService" method="getToken"/>
					</setProperty>
					<doTry>
						<setProperty name="districtsUrl">
							<simple>{{env:url_districts_v2}}</simple>
						</setProperty>
						<setProperty name="districtsWithParametersUrl">
							<groovy>
								def districtsUrlFormatted = sprintf(exchange.properties.districtsUrl, [
								exchange.in.headers.source ? exchange.in.headers.source : '0',
								exchange.in.headers.region ? exchange.in.headers.region : '',
								exchange.in.headers.cacheUse ? exchange.in.headers.cacheUse : 'false'
								])
								return districtsUrlFormatted
							</groovy>
						</setProperty>
						<removeHeaders pattern="*"/>
						<setHeader name="Authorization">
							<simple>${exchangeProperty.rosrgatewayToken}</simple>
						</setHeader>
						<setHeader name="CamelHttpMethod">
							<constant>GET</constant>
						</setHeader>
						<toD uri="https://${exchangeProperty.districtsWithParametersUrl}&amp;httpClientConfigurer=trustAllHttpClientConfigurer"/>
						<to uri="log:ru.seventech.esb.technoprom.online.districts.v2.end?showAll=false"/>
						<doCatch>
							<exception>org.apache.camel.http.common.HttpOperationFailedException</exception>
							<to uri="log:ru.seventech.esb.technoprom.online.districts.v2.error?showAll=true"/>
							<setHeader name="Exchange.HTTP_RESPONSE_CODE">
								<constant>400</constant>
							</setHeader>
							<setBody>
								<simple>${exception.getResponseBody()}</simple>
							</setBody>
						</doCatch>
					</doTry>
				</route>
			</get>

			<get uri="/v2/gate_rr_adapter/online/object">
				<description>GET object</description>
				<param name="source" description="source" type="query" required="false"/>
				<param name="objectId" description="objectId" type="query" required="false"/>
				<param name="cacheUse" description="Cached data" type="query" required="false" defaultValue="false"/>
				<param name="Authorization" type="header" required="true" description="Токен авторизации (Bearer)"/>
				<route>
					<to uri="log:ru.seventech.esb.technoprom.online.object.v2.begin?showAll=false"/>
					<setProperty name="rosrgatewayToken">
						<method ref="authService" method="getToken"/>
					</setProperty>
					<doTry>
						<setProperty name="objectUrl">
							<simple>{{env:url_object_v2}}</simple>
						</setProperty>
						<setProperty name="objectWithParametersUrl">
							<groovy>
								def objectUrlFormatted = sprintf(exchange.properties.objectUrl, [
								exchange.in.headers.source ? exchange.in.headers.source : '0',
								exchange.in.headers.objectId ? exchange.in.headers.objectId : '',
								exchange.in.headers.cacheUse ? exchange.in.headers.cacheUse : 'false'
								])
								return objectUrlFormatted
							</groovy>
						</setProperty>
						<removeHeaders pattern="*"/>
						<setHeader name="Authorization">
							<simple>${exchangeProperty.rosrgatewayToken}</simple>
						</setHeader>
						<setHeader name="CamelHttpMethod">
							<constant>GET</constant>
						</setHeader>
						<toD uri="https://${exchangeProperty.objectWithParametersUrl}&amp;httpClientConfigurer=trustAllHttpClientConfigurer"/>
						<to uri="log:ru.seventech.esb.technoprom.online.object.v2.end?showAll=false"/>
						<doCatch>
							<exception>org.apache.camel.http.common.HttpOperationFailedException</exception>
							<to uri="log:ru.seventech.esb.technoprom.online.object.v2.error?showAll=true"/>
							<setHeader name="Exchange.HTTP_RESPONSE_CODE">
								<constant>400</constant>
							</setHeader>
							<setBody>
								<simple>${exception.getResponseBody()}</simple>
							</setBody>
						</doCatch>
					</doTry>
				</route>
			</get>

			<get uri="/v2/gate_rr_adapter/orgs">
				<description>GET user organizations</description>
				<param name="Authorization" type="header" required="true" description="Токен авторизации (Bearer)"/>
				<route>
					<to uri="log:ru.seventech.esb.technoprom.orgs.v2.begin?showAll=false"/>
					<setProperty name="rosrgatewayToken">
						<method ref="authService" method="getToken"/>
					</setProperty>
					<doTry>
						<setProperty name="objectUrl">
							<simple>{{env:url_orgs_v2}}</simple>
						</setProperty>
						<removeHeaders pattern="*"/>
						<setHeader name="Authorization">
							<simple>${exchangeProperty.rosrgatewayToken}</simple>
						</setHeader>
						<setHeader name="CamelHttpMethod">
							<constant>GET</constant>
						</setHeader>
						<toD uri="https://${exchangeProperty.objectUrl}?httpClientConfigurer=trustAllHttpClientConfigurer"/>
						<to uri="log:ru.seventech.esb.technoprom.orgs.v2.end?showAll=false"/>
						<doCatch>
							<exception>org.apache.camel.http.common.HttpOperationFailedException</exception>
							<to uri="log:ru.seventech.esb.technoprom.orgs.v2.error?showAll=true"/>
							<setHeader name="Exchange.HTTP_RESPONSE_CODE">
								<constant>400</constant>
							</setHeader>
							<setBody>
								<simple>${exception.getResponseBody()}</simple>
							</setBody>
						</doCatch>
					</doTry>
				</route>
			</get>
