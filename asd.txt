@EnableAsync  // Включает поддержку @Async
public class AsyncConfig {

    @Bean("schedulerExecutor")  // Имя бина должно совпадать с @Async("schedulerExecutor")
    public Executor schedulerExecutor() {
        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();
        executor.setCorePoolSize(4);     // Минимальное количество потоков
        executor.setMaxPoolSize(10);     // Максимальное при нагрузке
        executor.setQueueCapacity(100);  // Размер очереди задач
        executor.setThreadNamePrefix("Scheduler-Async-");
        executor.initialize();
        return executor;
    }


@Override
    @Async("schedulerExecutor")  // Запуск в отдельном потоке
    @Scheduled(initialDelay = 1000L, fixedRateString = "${rr.schedule-delay:5000}")  // fixedRate вместо fixedDelay
    public void start() {
        if (enabled) {
            log.debug("igrr.StarterProcess start call RequestProcessStarterWC");
            requestProcessStarter.start();
        }
    }


